{
  "sequence": 20,
  "id": "WS-CODEX-020",
  "phase": "Phase 6\u20138 \u2013 Replay, polish, and release",
  "title": "Implement Replay Station (Time Tunnels) and v1 polish (accessibility, performance, docs)",
  "summary": "Build the Replay Station to revisit snapshots, then address accessibility, performance, and finalize documentation for v1.",
  "instructions": "You are implementing the Replay Station: Time Tunnels, and finishing v1 polish.\n\nGoal for this task:\nAllow children to revisit earlier project snapshots safely, and then bring the app to a v1-ready state with accessibility, performance, and documentation updates.\n\nPerform these steps:\n\n1) Extend Project type with snapshot support\n   - In app/src/domain/project.ts, add a snapshots slice such as:\n     - snapshots?: {\n         id: string;\n         createdAt: string;\n         label: string;\n         projectState: Partial<Project>;\n       }[];\n   - Keep this bounded (for example max 10 snapshots per project).\n\n2) Add snapshot creation logic\n   - Decide where snapshots are created (for example after significant milestones or manually from Memory/Reflect/Share).\n   - Implement helper functions to createSnapshot(project) and prune old snapshots.\n   - Ensure projectState does not include unnecessary bulky data; keep it compact.\n\n3) Create ReplayStationPage component\n   - In app/src/stations/replay/ReplayStationPage.tsx:\n     - Use useProjects() to get the selected project.\n     - Display a simple vertical or horizontal list of snapshots with timestamps and labels.\n     - Allow the child to:\n       - Inspect a snapshot (show read-only view of key fields).\n       - Create a new branch from a snapshot by:\n         - Copying snapshot.projectState into a new Project or overwriting the current one, only after explicit confirmation.\n     - Provide very clear confirmation text before overwriting any current state.\n\n4) Boundaries and safety\n   - Limit the number of snapshots and make sure snapshot create/restore actions are deliberate.\n   - Avoid language that suggests regret; frame Replay as exploring alternate paths and learning from earlier points.\n\n5) Accessibility and performance pass\n   - Review the app UI for:\n     - Keyboard navigation across major controls and stations.\n     - Sufficient color contrast and font sizes for children.\n     - ARIA labels on primary interactive elements where needed.\n   - Test performance on low and mid-range devices:\n     - Confirm WebLLM model loads reasonably.\n     - Adjust model choice or configuration if needed for responsiveness.\n\n6) Documentation and v1 tagging\n   - Update or create:\n     - docs/PROJECT_PLAN_FULL.md (if needed) with actual status notes.\n     - roadmap/MASTER_TIMELINE.md with actual sprint outcomes or tweaks.\n     - Any station-specific docs that have diverged during implementation.\n   - Prepare a short RELEASE_NOTES.md for v1 describing the feature set.\n   - Ensure package.json version is set to 1.0.0 or similar.\n\nThis is a capstone task: after completing it, The Workshop should be in a coherent, shippable v1 state.",
  "acceptance_criteria": [
    "Project type has a bounded snapshots slice for Replay.",
    "ReplayStationPage.tsx exists and lets users inspect snapshots and create branches or restore with clear confirmation steps.",
    "Snapshot creation and pruning helpers are in place and keep snapshot data compact.",
    "An accessibility and basic performance pass has been made, with obvious issues addressed.",
    "Key docs (project plan, timeline, station specs) are updated to reflect the implemented v1, and release notes exist."
  ]
}