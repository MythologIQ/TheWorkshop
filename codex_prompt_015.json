{
  "sequence": 15,
  "id": "WS-CODEX-015",
  "phase": "Phase 2 \u2013 Idea Station",
  "title": "Implement Idea Station (Design Dock) UI and AI integration",
  "summary": "Build the Idea Station screen with title/mission/goal/starter steps, wire it to projectStore and AIProvider, and respect creativity boundaries.",
  "instructions": "You are implementing the first real Station: Idea Station (Design Dock).\n\nGoal for this task:\nBuild a usable Idea Station UI that lets the child define an idea title, mission, goal, and up to three starter steps, and use AI to help refine or generate those fields.\n\nPerform these steps:\n\n1) Create IdeaStationPage component\n   - In app/src/stations/idea/ or similar, create IdeaStationPage.tsx.\n   - The component should:\n     - Use useProjects() to get selectedProject and updateProject.\n     - Redirect or show a friendly message if no project is selected.\n     - Render input fields for:\n       - Idea title (single line)\n       - Mission (multi-line, short)\n       - Goal (multi-line, short)\n       - Starter steps (list of 1\u20133 short text inputs)\n     - Include character counters or hints to reinforce the field limits from the Creativity Boundary spec.\n\n2) Wire updates to projectStore\n   - On blur or on change (choose a simple pattern), call updateProject(project.id, { idea: updatedIdeaSlice }).\n   - Ensure the updatedAt timestamp is refreshed through projectStore logic.\n\n3) Integrate AI via useAI()\n   - Use the useAI() hook to access callStationModel(\"idea\", payload).\n   - Define a station-specific system prompt inline or in a small helper that:\n     - Describes the Idea Station role (Design Dock).\n     - References the learning loop: Ask, Reflect, Plan, Act, Review.\n     - Enforces safety rules and creativity boundaries at a high level.\n   - When the user clicks a button like \"Ask the Workshop for help\":\n     - Build a userPrompt from the current state (what the child has entered so far).\n     - Call callStationModel(\"idea\", { systemPrompt, userPrompt }).\n     - Stream the result into a temporary buffer, then parse it into:\n       - Possibly refined mission/goal.\n       - Up to three starter steps.\n     - Merge the AI result into the idea slice and save via projectStore.updateProject.\n\n   - Keep parsing logic simple: expect either structured JSON-like output from the model or a clearly delimited text format that you define in the system prompt.\n\n4) Enforce creativity boundaries\n   - Ensure that:\n     - Title length, mission length, goal length, and number of starter steps are clamped according to docs/CREATIVITY_BOUNDARY_SPEC.md.\n     - If the AI returns more than three steps or overly long text, truncate gracefully.\n\n5) Navigation integration\n   - Make sure the route for Idea Station (Design Dock) points to IdeaStationPage and is reachable from the project view or navigation bar.\n\nDo not implement other stations in this task. Focus on making Idea Station fully functional and child-friendly.",
  "acceptance_criteria": [
    "IdeaStationPage.tsx exists and is reachable via the existing router.",
    "The page uses useProjects() to load and update the selected project's idea slice.",
    "The UI has fields for title, mission, goal, and up to three starter steps with visible limits/hints.",
    "The AI button uses useAI().callStationModel('idea', \u2026) to refine or suggest mission and steps.",
    "AI outputs and manual inputs are clamped to the limits defined in the Creativity Boundary spec."
  ]
}