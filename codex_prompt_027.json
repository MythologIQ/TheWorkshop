{
  "sequence": "027",
  "id": "WS-CODEX-027",
  "phase": "Post-v1 Enhancements \u2013 Automated Tests and CI",
  "title": "Add automated tests and a basic CI configuration to prevent regressions.",
  "summary": "Introduce a foundational test suite and CI workflow that runs linting and tests on each change.",
  "instructions": "You are strengthening The Workshop's reliability by adding automated tests and a basic continuous integration (CI) configuration.\n\nGoal for this task:\nAdd a foundational test suite and CI config that runs linting and tests on each change or pull request.\n\nPerform these steps:\n\n1) Testing setup\n   - Choose a testing stack consistent with the current toolchain (for example Vitest + React Testing Library).\n   - Configure:\n     - Unit tests for domain and stores.\n     - Component tests for at least a few key screens (ProjectSelectionPage, IdeaStationPage).\n\n2) Test coverage\n   - Add tests that cover:\n     - projectStore basic flows (create, update, persist, reload).\n     - AIProvider prompt-building logic (without actually running WebLLM).\n     - Navigation flows between Stations (router + StationNav interactions).\n\n3) Scripts\n   - Add npm scripts to package.json:\n     - test\n     - test:watch\n     - lint\n   - Ensure existing build scripts still work.\n\n4) CI configuration\n   - Create a basic CI config (for example .github/workflows/ci.yml) that:\n     - Runs on pushes and pull requests to main and feature branches.\n     - Installs dependencies.\n     - Runs lint and test scripts.\n     - Fails the build on errors.\n\n5) Documentation\n   - Add a section to docs/CONTRIBUTING.md explaining how to run tests locally and what the minimal expectations are for new contributions.\n\nDo not aim for 100% coverage in this task. Focus on setting up a solid foundation and covering core behavior.",
  "acceptance_criteria": [
    "A testing stack (such as Vitest + React Testing Library) is configured and can run via npm test.",
    "There are tests for projectStore, AIProvider prompt building, and basic navigation.",
    "CI config exists (for example in .github/workflows/ci.yml) that runs lint and tests on push/PR.",
    "CONTRIBUTING.md documents how to run tests and the expectation for new code."
  ]
}